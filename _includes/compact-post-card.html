{% comment %}
  Compact post card for sidebars - enhanced with interactive effects
{% endcomment %}
<div class="box mb-4 compact-card" style="padding: 0; position: relative;" data-post-url="{{ post.url }}">
  {% comment %} Quick bookmark action {% endcomment %}
  <button
    class="compact-bookmark-btn"
    onclick="event.preventDefault(); event.stopPropagation(); toggleBookmark('{{ post.url }}', '{{ post.title | escape }}');"
    aria-label="Bookmark this post"
    title="Bookmark"
    data-post-url="{{ post.url }}"
  >
    <span class="icon is-small">
      <i class="far fa-bookmark"></i>
    </span>
  </button>

  <a href="{{ site.baseurl }}{{ post.url }}" style="display: block; text-decoration: none; color: inherit;">
    {% if post.image %}
    <div class="compact-card-image" style="width: 100%; height: 140px; overflow: hidden; position: relative;">
      <picture>
        <img src="{{ post.image | relative_url }}" alt="{{ post.title }}" loading="lazy" style="width: 100%; height: 140px; object-fit: cover; display: block;">
      </picture>
      <div class="compact-card-overlay"></div>
    </div>
    {% endif %}
    <div style="padding: 1rem;">
      <h4 class="title is-6 compact-card-title" style="margin-bottom: 0.5rem; line-height: 1.3;">
        {{ post.title }}
      </h4>
      <p class="is-size-7 compact-card-excerpt" style="margin-bottom: 0.5rem; line-height: 1.4; opacity: 0.8;">
        {% if post.summary %}
          {{ post.summary | strip_html | truncatewords: 20 }}
        {% else %}
          {{ post.excerpt | strip_html | truncatewords: 20 }}
        {% endif %}
      </p>
      <p class="is-size-7 compact-card-date" style="opacity: 0.6;">
        <span class="icon-text">
          <span class="icon" style="font-size: 0.75rem;">
            <i class="far fa-calendar"></i>
          </span>
          <span>{{ post.date | date: '%b %-d, %Y' }}</span>
        </span>
      </p>
    </div>
  </a>
</div>
