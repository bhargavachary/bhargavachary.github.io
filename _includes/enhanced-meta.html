{% comment %}
  Enhanced meta tags for better SEO and social sharing
{% endcomment %}

<!-- Enhanced Open Graph Meta Tags -->
<meta property="og:site_name" content="{{ site.title }}">
<meta property="og:locale" content="en_US">

{% if page.layout == 'post' %}
  <meta property="og:type" content="article">
  <meta property="article:author" content="{{ site.author.name }}">
  <meta property="article:published_time" content="{{ page.date | date: '%Y-%m-%d' }}">
  {% if page.last_modified_at %}
    <meta property="article:modified_time" content="{{ page.last_modified_at | date: '%Y-%m-%d' }}">
  {% endif %}
  {% if page.categories %}
    {% for category in page.categories %}
      <meta property="article:section" content="{{ category }}">
    {% endfor %}
  {% endif %}
  {% if page.tags %}
    {% for tag in page.tags %}
      <meta property="article:tag" content="{{ tag }}">
    {% endfor %}
  {% endif %}
{% else %}
  <meta property="og:type" content="website">
{% endif %}

<!-- Enhanced Twitter Card Meta Tags -->
<meta name="twitter:card" content="summary_large_image">
{% if site.social.twitter %}
  <meta name="twitter:site" content="@{{ site.social.twitter | replace: 'https://twitter.com/', '' }}">
  <meta name="twitter:creator" content="@{{ site.social.twitter | replace: 'https://twitter.com/', '' }}">
{% endif %}

<!-- Author and Publisher Information -->
<meta name="author" content="{{ site.author.name }}">
<meta name="publisher" content="{{ site.title }}">

<!-- Enhanced Description -->
{% if page.description %}
  <meta name="description" content="{{ page.description | truncate: 160 }}">
{% elsif page.excerpt %}
  <meta name="description" content="{{ page.excerpt | strip_html | truncate: 160 }}">
{% else %}
  <meta name="description" content="{{ site.description | truncate: 160 }}">
{% endif %}

<!-- Keywords -->
{% if page.tags %}
  <meta name="keywords" content="{{ page.tags | join: ', ' }}">
{% elsif page.categories %}
  <meta name="keywords" content="{{ page.categories | join: ', ' }}">
{% endif %}

<!-- Canonical URL -->
<link rel="canonical" href="{{ site.url }}{{ site.baseurl }}{{ page.url }}">

<!-- Pagination meta tags -->
{% if paginator %}
  {% if paginator.previous_page %}
    <link rel="prev" href="{{ paginator.previous_page_path | prepend: site.baseurl | prepend: site.url }}">
  {% endif %}
  {% if paginator.next_page %}
    <link rel="next" href="{{ paginator.next_page_path | prepend: site.baseurl | prepend: site.url }}">
  {% endif %}
{% endif %}

<!-- Enhanced meta for better indexing -->
{% if page.layout == 'post' %}
  <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
{% else %}
  <meta name="robots" content="index, follow">
{% endif %}

<!-- Reading time and word count for posts -->
{% if page.layout == 'post' %}
  <meta name="reading-time" content="{{ content | number_of_words | divided_by: 200 }}">
  <meta name="word-count" content="{{ content | number_of_words }}">
{% endif %}

<!-- Geographic information -->
{% if site.author.location %}
  <meta name="geo.region" content="{{ site.author.location }}">
{% endif %}